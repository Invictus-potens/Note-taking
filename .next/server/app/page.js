(()=>{var e={};e.id=931,e.ids=[931],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},7282:e=>{"use strict";e.exports=require("process")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},9590:()=>{},5454:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>d});var a=r(7096),s=r(6132),l=r(7284),i=r.n(l),n=r(2564),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(t,o);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3982)),"C:\\Users\\felip\\Desktop\\Note-taking\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,5345)),"C:\\Users\\felip\\Desktop\\Note-taking\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,4293)),"C:\\Users\\felip\\Desktop\\Note-taking\\app\\not-found.tsx"]}],c=["C:\\Users\\felip\\Desktop\\Note-taking\\app\\page.tsx"],x="/page",u={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3120:(e,t,r)=>{Promise.resolve().then(r.bind(r,1945))},1945:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Home});var a=r(784),s=r(9885),l=r(9813),i=r(2856),n=r(1522);let o={apiKey:process.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:process.env.NEXT_PUBLIC_FIREBASE_APP_ID},d=(0,i.ZF)(o),c=(0,n.ad)(d),x=(0,l.v0)(d),u={async getNotes(e){let t=(0,n.IO)((0,n.hJ)(c,"notes"),(0,n.ar)("userId","==",e),(0,n.Xo)("updatedAt","desc")),r=await (0,n.PL)(t);return r.docs.map(e=>({id:e.id,...e.data()}))},async addNote(e){let t=await (0,n.ET)((0,n.hJ)(c,"notes"),{...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()});return t.id},async updateNote(e,t){let r=(0,n.JU)(c,"notes",e);await (0,n.r7)(r,{...t,updatedAt:new Date().toISOString()})},async deleteNote(e){await (0,n.oe)((0,n.JU)(c,"notes",e))},subscribeToNotes(e,t){let r=(0,n.IO)((0,n.hJ)(c,"notes"),(0,n.ar)("userId","==",e),(0,n.Xo)("updatedAt","desc"));return(0,n.cf)(r,e=>{let r=e.docs.map(e=>({id:e.id,...e.data()}));t(r)})}},m={async getFolders(e){let t=(0,n.IO)((0,n.hJ)(c,"folders"),(0,n.ar)("userId","==",e),(0,n.Xo)("name")),r=await (0,n.PL)(t);return r.docs.map(e=>({id:e.id,...e.data()}))},async addFolder(e,t){let r=await (0,n.ET)((0,n.hJ)(c,"folders"),{name:e,userId:t,createdAt:new Date().toISOString()});return r.id},async deleteFolder(e){await (0,n.oe)((0,n.JU)(c,"folders",e))}},g={async getTags(e){let t=(0,n.IO)((0,n.hJ)(c,"tags"),(0,n.ar)("userId","==",e),(0,n.Xo)("name")),r=await (0,n.PL)(t);return r.docs.map(e=>({id:e.id,...e.data()}))},async addTag(e,t){let r=await (0,n.ET)((0,n.hJ)(c,"tags"),{name:e,userId:t,createdAt:new Date().toISOString()});return r.id},async deleteTag(e){await (0,n.oe)((0,n.JU)(c,"tags",e))}};function Button({variant:e="primary",size:t="md",children:r,className:s="",...l}){return a.jsx("button",{className:`whitespace-nowrap cursor-pointer inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed ${{primary:"bg-blue-600 text-white hover:bg-blue-700",secondary:"bg-gray-600 text-white hover:bg-gray-700",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",ghost:"text-gray-700 hover:bg-gray-100"}[e]} ${{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[t]} ${s}`,...l,children:r})}function Header({user:e,onLogout:t,onToggleTheme:r,isDark:l}){let[i,n]=(0,s.useState)(!1);return a.jsx("header",{className:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white font-pacifico",children:"NotesApp"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:r,className:"w-8 h-8 flex items-center justify-center p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 cursor-pointer",children:a.jsx("i",{className:`${l?"ri-sun-line":"ri-moon-line"} text-lg text-gray-600 dark:text-gray-300`})}),e?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>n(!i),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 cursor-pointer",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-sm font-medium",children:e.name.charAt(0).toUpperCase()})}),a.jsx("i",{className:"ri-arrow-down-s-line text-gray-600 dark:text-gray-300"})]}),i&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-50",children:[(0,a.jsxs)("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.email})]}),(0,a.jsxs)("button",{onClick:()=>{t?.(),n(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:[a.jsx("i",{className:"ri-logout-circle-line mr-2"}),"Sign Out"]})]})]}):a.jsx(Button,{variant:"primary",size:"sm",children:"Sign In"})]})]})})}function Sidebar({folders:e,tags:t,selectedFolder:r,selectedTag:l,onFolderSelect:i,onTagSelect:n,onNewNote:o}){let[d,c]=(0,s.useState)(!1),[x,u]=(0,s.useState)(""),[m,g]=(0,s.useState)(!1),[p,h]=(0,s.useState)(""),handleCreateFolder=()=>{x.trim()&&(u(""),c(!1))},handleCreateTag=()=>{p.trim()&&(h(""),g(!1))};return(0,a.jsxs)("div",{className:"w-64 bg-gray-50 dark:bg-gray-900/50 border-r border-gray-200 dark:border-gray-700 h-full flex flex-col",children:[a.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,a.jsxs)(Button,{onClick:o,variant:"primary",className:"w-full",children:[a.jsx("i",{className:"ri-add-line mr-2"}),"New Note"]})}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wide",children:"Folders"}),a.jsx("button",{onClick:()=>c(!0),className:"w-5 h-5 flex items-center justify-center text-gray-400 hover:text-gray-600 cursor-pointer",children:a.jsx("i",{className:"ri-add-line text-sm"})})]}),d&&(0,a.jsxs)("div",{className:"mb-3 p-2 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[a.jsx("input",{type:"text",value:x,onChange:e=>u(e.target.value),placeholder:"Folder name",className:"w-full p-1 text-sm border-none outline-none bg-transparent",onKeyDown:e=>{"Enter"===e.key&&handleCreateFolder(),"Escape"===e.key&&c(!1)},autoFocus:!0}),(0,a.jsxs)("div",{className:"flex justify-end space-x-1 mt-2",children:[a.jsx("button",{onClick:()=>c(!1),className:"px-2 py-1 text-xs text-gray-500 hover:text-gray-700 cursor-pointer",children:"Cancel"}),a.jsx("button",{onClick:handleCreateFolder,className:"px-2 py-1 text-xs bg-blue-500 text-white rounded cursor-pointer",children:"Create"})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("button",{onClick:()=>i("all"),className:`w-full flex items-center justify-between p-2 rounded-lg cursor-pointer transition-colors ${"all"===r?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}`,children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("i",{className:"ri-file-list-3-line mr-2"}),a.jsx("span",{className:"text-sm",children:"All Notes"})]}),a.jsx("span",{className:"text-xs bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded-full",children:e.reduce((e,t)=>e+t.count,0)})]}),e.map(e=>(0,a.jsxs)("button",{onClick:()=>i(e.id),className:`w-full flex items-center justify-between p-2 rounded-lg cursor-pointer transition-colors ${r===e.id?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}`,children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("i",{className:"ri-folder-3-line mr-2"}),a.jsx("span",{className:"text-sm",children:e.name})]}),a.jsx("span",{className:"text-xs bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded-full",children:e.count})]},e.id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wide",children:"Tags"}),a.jsx("button",{onClick:()=>g(!0),className:"w-5 h-5 flex items-center justify-center text-gray-400 hover:text-gray-600 cursor-pointer",children:a.jsx("i",{className:"ri-add-line text-sm"})})]}),m&&(0,a.jsxs)("div",{className:"mb-3 p-2 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[a.jsx("input",{type:"text",value:p,onChange:e=>h(e.target.value),placeholder:"Tag name",className:"w-full p-1 text-sm border-none outline-none bg-transparent",onKeyDown:e=>{"Enter"===e.key&&handleCreateTag(),"Escape"===e.key&&g(!1)},autoFocus:!0}),(0,a.jsxs)("div",{className:"flex justify-end space-x-1 mt-2",children:[a.jsx("button",{onClick:()=>g(!1),className:"px-2 py-1 text-xs text-gray-500 hover:text-gray-700 cursor-pointer",children:"Cancel"}),a.jsx("button",{onClick:handleCreateTag,className:"px-2 py-1 text-xs bg-blue-500 text-white rounded cursor-pointer",children:"Create"})]})]}),a.jsx("div",{className:"space-y-1",children:t.map(e=>(0,a.jsxs)("button",{onClick:()=>n(e.id),className:`w-full flex items-center justify-between p-2 rounded-lg cursor-pointer transition-colors ${l===e.id?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}`,children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("i",{className:"ri-price-tag-3-line mr-2"}),(0,a.jsxs)("span",{className:"text-sm",children:["#",e.name]})]}),a.jsx("span",{className:"text-xs bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded-full",children:e.count})]},e.id))})]})]})})]})}function NotesList({notes:e,selectedNote:t,onNoteSelect:r,onTogglePin:s,onDeleteNote:l,searchTerm:i}){let n=e.filter(e=>e.title.toLowerCase().includes(i.toLowerCase())||e.content.toLowerCase().includes(i.toLowerCase())),o=n.filter(e=>e.isPinned),d=n.filter(e=>!e.isPinned),formatDate=e=>{let t=new Date(e),r=new Date,a=Math.abs(r.getTime()-t.getTime()),s=Math.ceil(a/864e5);return 1===s?"Today":2===s?"Yesterday":s<=7?`${s-1} days ago`:t.toLocaleDateString()},renderNote=e=>(0,a.jsxs)("div",{onClick:()=>r(e.id),className:`p-4 border-b border-gray-200 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors ${t===e.id?"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-l-blue-500":""}`,children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[e.isPinned&&a.jsx("i",{className:"ri-pushpin-fill text-blue-500 text-sm"}),e.isPrivate&&a.jsx("i",{className:"ri-lock-fill text-yellow-500 text-sm"}),a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white truncate",children:e.title||"Untitled"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:t=>{t.stopPropagation(),s(e.id)},className:"w-6 h-6 flex items-center justify-center text-gray-400 hover:text-blue-500 cursor-pointer",children:a.jsx("i",{className:`${e.isPinned?"ri-pushpin-fill":"ri-pushpin-line"} text-sm`})}),a.jsx("button",{onClick:t=>{t.stopPropagation(),l(e.id)},className:"w-6 h-6 flex items-center justify-center text-gray-400 hover:text-red-500 cursor-pointer",children:a.jsx("i",{className:"ri-delete-bin-line text-sm"})})]})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-2",children:e.content||"No content"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map(e=>(0,a.jsxs)("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-xs text-gray-600 dark:text-gray-300 rounded-full",children:["#",e]},e))}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:formatDate(e.updatedAt)})]})]},e.id);return(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[o.length>0&&(0,a.jsxs)("div",{children:[a.jsx("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-800/50 border-b border-gray-200 dark:border-gray-700",children:a.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide",children:"Pinned Notes"})}),a.jsx("div",{className:"group",children:o.map(renderNote)})]}),d.length>0&&(0,a.jsxs)("div",{children:[o.length>0&&a.jsx("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-800/50 border-b border-gray-200 dark:border-gray-700",children:a.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide",children:"All Notes"})}),a.jsx("div",{className:"group",children:d.map(renderNote)})]}),0===n.length&&(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-center p-8",children:[a.jsx("i",{className:"ri-file-text-line text-4xl text-gray-300 dark:text-gray-600 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:i?"No notes found":"No notes yet"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 max-w-sm",children:i?"Try adjusting your search terms or create a new note.":"Create your first note to get started with organizing your thoughts."})]})]})}function Input({label:e,error:t,className:r="",...s}){return(0,a.jsxs)("div",{className:"w-full",children:[e&&a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),a.jsx("input",{className:`w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${t?"border-red-500":""} ${r}`,...s}),t&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]})}function AuthModal({isOpen:e,onClose:t,onAuthSuccess:r}){let[i,n]=(0,s.useState)(!0),[o,d]=(0,s.useState)({name:"",email:"",password:""}),[c,u]=(0,s.useState)({}),[m,g]=(0,s.useState)(!1);if(!e)return null;let validateForm=()=>{let e={};return o.email?/\S+@\S+\.\S+/.test(o.email)||(e.email="Email is invalid"):e.email="Email is required",o.password?o.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",i||o.name||(e.name="Name is required"),u(e),0===Object.keys(e).length},handleSubmit=async e=>{if(e.preventDefault(),validateForm()){g(!0),u({});try{if(i)await (0,l.e5)(x,o.email,o.password);else{let e=await (0,l.Xb)(x,o.email,o.password);await (0,l.ck)(e.user,{displayName:o.name})}r(),t()}catch(e){console.error("Auth error:",e),u({general:e.message||"Authentication failed. Please try again."})}finally{g(!1)}}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i?"Sign In":"Sign Up"}),a.jsx("button",{onClick:t,className:"w-8 h-8 flex items-center justify-center text-gray-400 hover:text-gray-600 cursor-pointer",children:a.jsx("i",{className:"ri-close-line text-xl"})})]}),c.general&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:c.general})}),(0,a.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-4",children:[!i&&a.jsx(Input,{label:"Full Name",type:"text",value:o.name,onChange:e=>d({...o,name:e.target.value}),error:c.name,placeholder:"Enter your full name"}),a.jsx(Input,{label:"Email",type:"email",value:o.email,onChange:e=>d({...o,email:e.target.value}),error:c.email,placeholder:"Enter your email"}),a.jsx(Input,{label:"Password",type:"password",value:o.password,onChange:e=>d({...o,password:e.target.value}),error:c.password,placeholder:"Enter your password"}),a.jsx(Button,{type:"submit",variant:"primary",className:"w-full",disabled:m,children:m?(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[a.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),i?"Signing In...":"Creating Account..."]}):i?"Sign In":"Create Account"})]}),a.jsx("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[i?"Don't have an account?":"Already have an account?",a.jsx("button",{onClick:()=>n(!i),className:"ml-1 text-blue-600 hover:text-blue-700 cursor-pointer font-medium",children:i?"Sign Up":"Sign In"})]})})]})})}function Home(){let[e,t]=(0,s.useState)(!1),[r,i]=(0,s.useState)(null),[n,o]=(0,s.useState)(null),[d,c]=(0,s.useState)(!1),[p,h]=(0,s.useState)(""),[y,b]=(0,s.useState)("all"),[f,N]=(0,s.useState)(""),[j,v]=(0,s.useState)(""),[w,k]=(0,s.useState)(!1),[S,C]=(0,s.useState)(null),[P,_]=(0,s.useState)(!0),[E,I]=(0,s.useState)(!1),[T,A]=(0,s.useState)([]),[D,L]=(0,s.useState)([]),[q,F]=(0,s.useState)([]);(0,s.useEffect)(()=>{let e=(0,l.Aj)(x,async e=>{if(_(!0),e){let t={id:e.uid,name:e.displayName||e.email?.split("@")[0]||"User",email:e.email||""};i(t),o(e),await loadUserData(e.uid)}else i(null),o(null),A([]),L([]),F([]);_(!1)}),r=localStorage.getItem("notesapp_theme");return"dark"===r&&(t(!0),document.documentElement.classList.add("dark")),()=>e()},[]);let loadUserData=async e=>{try{I(!0);let t=u.subscribeToNotes(e,e=>{A(e)}),[r,a]=await Promise.all([m.getFolders(e),g.getTags(e)]);if(0===r.length){await Promise.all([m.addFolder("Personal",e),m.addFolder("Work",e),m.addFolder("Projects",e)]);let t=await m.getFolders(e);L(t.map(e=>({id:e.id,name:e.name,count:0})))}else L(r.map(e=>({id:e.id,name:e.name,count:0})));return F(a.map(e=>({id:e.id,name:e.name,count:0}))),t}catch(e){console.error("Error loading user data:",e)}finally{I(!1)}},handleLogout=async()=>{try{await (0,l.w7)(x)}catch(e){console.error("Error signing out:",e)}},handleToggleTheme=()=>{let r=!e;t(r),r?(document.documentElement.classList.add("dark"),localStorage.setItem("notesapp_theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("notesapp_theme","light"))},handleNewNote=async()=>{if(r)try{I(!0);let e=new Date().toISOString(),t={title:"",content:"",folder:"all"===y?"personal":y,tags:[],isPinned:!1,isPrivate:!1,userId:r.id,createdAt:e,updatedAt:e},a=await u.addNote(t),s={...t,id:a};v(a),C(s),k(!0)}catch(e){console.error("Error creating note:",e)}finally{I(!1)}},handleTogglePin=async e=>{let t=T.find(t=>t.id===e);if(t)try{I(!0),await u.updateNote(e,{isPinned:!t.isPinned})}catch(e){console.error("Error toggling pin:",e)}finally{I(!1)}},handleDeleteNote=async e=>{try{I(!0),await u.deleteNote(e),j===e&&(v(""),C(null))}catch(e){console.error("Error deleting note:",e)}finally{I(!1)}},handleSaveNote=async()=>{if(S)try{I(!0),await u.updateNote(S.id,{title:S.title,content:S.content,folder:S.folder,tags:S.tags,isPinned:S.isPinned,isPrivate:S.isPrivate}),k(!1)}catch(e){console.error("Error saving note:",e)}finally{I(!1)}},U=T.filter(e=>!!(("all"===y||e.folder===y)&&(!f||e.tags.includes(f))&&(!p||e.title.toLowerCase().includes(p.toLowerCase())||e.content.toLowerCase().includes(p.toLowerCase()))));return P?a.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("i",{className:"ri-loader-4-line text-4xl text-blue-600 animate-spin mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your notes..."})]})}):r?(0,a.jsxs)("div",{className:"h-screen bg-white dark:bg-gray-900 flex flex-col",children:[a.jsx(Header,{user:r,onLogout:handleLogout,onToggleTheme:handleToggleTheme,isDark:e}),E&&a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-800 px-4 py-2",children:(0,a.jsxs)("div",{className:"flex items-center justify-center text-sm text-blue-600 dark:text-blue-400",children:[a.jsx("i",{className:"ri-cloud-line animate-pulse mr-2"}),"Syncing with cloud..."]})}),(0,a.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[a.jsx(Sidebar,{folders:D,tags:q,selectedFolder:y,selectedTag:f,onFolderSelect:b,onTagSelect:N,onNewNote:handleNewNote}),(0,a.jsxs)("div",{className:"flex-1 flex",children:[(0,a.jsxs)("div",{className:"w-80 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col",children:[a.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"relative",children:[a.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx(Input,{type:"text",placeholder:"Search notes...",value:p,onChange:e=>h(e.target.value),className:"pl-10 text-sm"})]})}),a.jsx(NotesList,{notes:U,selectedNote:j,onNoteSelect:e=>{let t=T.find(t=>t.id===e);t&&(v(e),C(t),k(!1))},onTogglePin:handleTogglePin,onDeleteNote:handleDeleteNote,searchTerm:p})]}),a.jsx("div",{className:"flex-1 flex flex-col",children:S?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[S.isPinned&&a.jsx("i",{className:"ri-pushpin-fill text-blue-500"}),S.isPrivate&&a.jsx("i",{className:"ri-lock-fill text-yellow-500"})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Last updated: ",new Date(S.updatedAt).toLocaleDateString()]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:w?(0,a.jsxs)(a.Fragment,{children:[a.jsx(Button,{onClick:()=>k(!1),variant:"outline",size:"sm",children:"Cancel"}),a.jsx(Button,{onClick:handleSaveNote,variant:"primary",size:"sm",children:"Save"})]}):(0,a.jsxs)(Button,{onClick:()=>k(!0),variant:"primary",size:"sm",children:[a.jsx("i",{className:"ri-edit-line mr-1"}),"Edit"]})})]}),a.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:w?(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx(Input,{type:"text",value:S.title,onChange:e=>C({...S,title:e.target.value}),placeholder:"Note title...",className:"text-2xl font-bold border-none p-0 focus:ring-0"}),a.jsx("textarea",{value:S.content,onChange:e=>C({...S,content:e.target.value}),placeholder:"Start writing your note...",className:"w-full h-96 p-0 border-none resize-none focus:outline-none focus:ring-0 text-gray-700 dark:text-gray-300 bg-transparent"})]}):(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:S.title||"Untitled"}),a.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none",children:a.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:S.content||"No content"})})]})})]}):a.jsx("div",{className:"flex-1 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("i",{className:"ri-file-text-line text-6xl text-gray-300 dark:text-gray-600 mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2",children:"Select a note to view"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Choose a note from the sidebar or create a new one"})]})})})]})]})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:[a.jsx(Header,{user:r,onLogout:handleLogout,onToggleTheme:handleToggleTheme,isDark:e}),a.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-80px)] p-4",children:(0,a.jsxs)("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("i",{className:"ri-file-text-line text-2xl text-blue-600 dark:text-blue-400"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4 font-pacifico",children:"NotesApp"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Your secure, organized, and intelligent note-taking companion. Capture ideas, organize thoughts, and boost your productivity with real-time cloud sync."}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx(Button,{onClick:()=>c(!0),variant:"primary",className:"w-full",children:"Get Started"}),(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-6 text-sm text-gray-500 dark:text-gray-400",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("i",{className:"ri-shield-check-line mr-1"}),"Secure"]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("i",{className:"ri-cloud-line mr-1"}),"Cloud Sync"]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("i",{className:"ri-smartphone-line mr-1"}),"Mobile Ready"]})]})]})]})}),a.jsx(AuthModal,{isOpen:d,onClose:()=>c(!1),onAuthSuccess:()=>c(!1)})]})}},3982:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>l,default:()=>o});var a=r(5153);let s=(0,a.createProxy)(String.raw`C:\Users\felip\Desktop\Note-taking\app\page.tsx`),{__esModule:l,$$typeof:i}=s,n=s.default,o=n}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[352,793,527],()=>__webpack_exec__(5454));module.exports=r})();