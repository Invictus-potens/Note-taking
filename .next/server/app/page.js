(()=>{var e={};e.id=931,e.ids=[931],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},2134:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d});var s=a(7096),i=a(6132),r=a(7284),n=a.n(r),l=a(2564),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,3982)),"C:\\Users\\felip\\OneDrive\\Desktop\\NOtas\\Note-taking\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,2498)),"C:\\Users\\felip\\OneDrive\\Desktop\\NOtas\\Note-taking\\app\\layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,8196)),"C:\\Users\\felip\\OneDrive\\Desktop\\NOtas\\Note-taking\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\felip\\OneDrive\\Desktop\\NOtas\\Note-taking\\app\\page.tsx"],m="/page",u={require:a,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8008:(e,t,a)=>{Promise.resolve().then(a.bind(a,7740))},7740:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Home});var s=a(784),i=a(9885),r=a(2182),n=a.n(r),l=a(7957),o=a(4563),d=a(7114);function ProtectedRoute({children:e}){let{user:t,loading:a}=(0,o.useAuth)(),r=(0,d.useRouter)();return((0,i.useEffect)(()=>{a||t||r.push("/login")},[t,a,r]),a)?s.jsx("div",{className:"loading-screen",children:(0,s.jsxs)("div",{className:"loading-spinner",children:[s.jsx("i",{className:"ri-loader-4-line"}),s.jsx("span",{children:"Loading..."})]})}):t?s.jsx(s.Fragment,{children:e}):null}a(4221);let AI_AIAssistant=({onAddToNote:e})=>{let[t,a]=(0,i.useState)(!1),[r,n]=(0,i.useState)(""),[l,o]=(0,i.useState)(""),[d,c]=(0,i.useState)(!1),[m,u]=(0,i.useState)(""),[h,p]=(0,i.useState)([]),[x,N]=(0,i.useState)(!1),g=(0,i.useRef)(null),j=(0,i.useRef)(null);(0,i.useEffect)(()=>{let e=localStorage.getItem("ai-interactions");if(e)try{p(JSON.parse(e))}catch(e){console.error("Error loading AI interactions:",e)}},[]);let saveInteraction=e=>{let t=[e,...h.slice(0,4)];p(t),localStorage.setItem("ai-interactions",JSON.stringify(t))};(0,i.useEffect)(()=>{let handleClickOutside=e=>{g.current&&!g.current.contains(e.target)&&a(!1)};return t&&document.addEventListener("mousedown",handleClickOutside),()=>{document.removeEventListener("mousedown",handleClickOutside)}},[t]),(0,i.useEffect)(()=>{t&&j.current&&setTimeout(()=>j.current?.focus(),100)},[t]);let handleSubmit=async e=>{if(e.preventDefault(),r.trim()){c(!0),u(""),o("");try{let e=await fetch("/api/ai-assistant",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:r.trim()})}),t=await e.json();if(!e.ok)throw Error(t.error||"Failed to get response");o(t.response);let a={id:Date.now().toString(),question:r.trim(),response:t.response,timestamp:t.timestamp};saveInteraction(a)}catch(e){u(e instanceof Error?e.message:"An error occurred")}finally{c(!1)}}};return(0,s.jsxs)(s.Fragment,{children:[s.jsx("button",{className:"ai-assistant-btn",onClick:()=>a(!0),"aria-label":"Open AI Assistant",children:s.jsx("i",{className:"ri-robot-line"})}),t&&s.jsx("div",{className:"ai-modal-overlay",children:(0,s.jsxs)("div",{className:"ai-modal",ref:g,children:[(0,s.jsxs)("div",{className:"ai-modal-header",children:[(0,s.jsxs)("div",{className:"ai-modal-title",children:[s.jsx("i",{className:"ri-robot-line"}),"AI Assistant"]}),(0,s.jsxs)("div",{className:"ai-modal-actions",children:[s.jsx("button",{className:"ai-history-btn",onClick:()=>N(!x),"aria-label":"Toggle history",children:s.jsx("i",{className:"ri-history-line"})}),s.jsx("button",{className:"ai-modal-close",onClick:()=>a(!1),"aria-label":"Close modal",children:s.jsx("i",{className:"ri-close-line"})})]})]}),(0,s.jsxs)("div",{className:"ai-modal-content",children:[x&&h.length>0&&(0,s.jsxs)("div",{className:"ai-history",children:[s.jsx("h4",{children:"Recent Interactions"}),h.map(e=>(0,s.jsxs)("div",{className:"ai-history-item",children:[(0,s.jsxs)("div",{className:"ai-history-question",children:[s.jsx("strong",{children:"Q:"})," ",e.question]}),(0,s.jsxs)("div",{className:"ai-history-response",children:[s.jsx("strong",{children:"A:"})," ",e.response.substring(0,100),"..."]}),s.jsx("div",{className:"ai-history-timestamp",children:new Date(e.timestamp).toLocaleString()})]},e.id))]}),s.jsx("form",{onSubmit:handleSubmit,className:"ai-form",children:(0,s.jsxs)("div",{className:"ai-input-container",children:[s.jsx("textarea",{ref:j,className:"ai-input",value:r,onChange:e=>n(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.metaKey||e.ctrlKey)&&handleSubmit(e)},placeholder:"Ask me anything... (Cmd/Ctrl + Enter to send)",rows:3,disabled:d}),s.jsx("button",{type:"submit",className:"ai-send-btn",disabled:d||!r.trim(),children:d?s.jsx("i",{className:"ri-loader-4-line ai-spinner"}):s.jsx("i",{className:"ri-send-plane-line"})})]})}),m&&(0,s.jsxs)("div",{className:"ai-error",children:[s.jsx("i",{className:"ri-error-warning-line"}),m]}),l&&(0,s.jsxs)("div",{className:"ai-response",children:[(0,s.jsxs)("div",{className:"ai-response-header",children:[s.jsx("span",{children:"Response"}),e&&(0,s.jsxs)("button",{className:"ai-add-to-note-btn",onClick:()=>{l&&e&&(e(l),a(!1))},"aria-label":"Add to note",children:[s.jsx("i",{className:"ri-add-line"}),"Add to Note"]})]}),s.jsx("div",{className:"ai-response-content",children:l})]})]})]})})]})};var c=a(6568);function NotesApp(){let{user:e,signOut:t}=(0,o.useAuth)();(0,d.useRouter)();let[a,r]=(0,i.useState)(!0),[m,u]=(0,i.useState)(""),[h,p]=(0,i.useState)("all"),[x,N]=(0,i.useState)([]),[g,j]=(0,i.useState)(""),[f,v]=(0,i.useState)(!1),[b,y]=(0,i.useState)(null),[C,S]=(0,i.useState)(!1),_=(0,i.useRef)(null),[k,q]=(0,i.useState)(!1),[w,D]=(0,i.useState)(!1),[E,O]=(0,i.useState)(""),[P,T]=(0,i.useState)(""),[A,I]=(0,i.useState)(""),[F,L]=(0,i.useState)([]),[R,$]=(0,i.useState)([]),[U,M]=(0,i.useState)([]);(0,i.useEffect)(()=>{if(!e)return;let migrateTagData=async()=>{let{data:t,error:a}=await c.O.from("notes").select("id, tags").eq("user_id",e.id);if(a){console.error("Error fetching notes for migration:",a);return}let{data:s,error:i}=await c.O.from("tags").select("id, name").eq("user_id",e.id);if(i){console.error("Error fetching tags for migration:",i);return}let r=new Map(s?.map(e=>[e.id,e.name])||[]);for(let a of t||[]){if(!a.tags||0===a.tags.length)continue;let t=a.tags.some(e=>r.has(e));if(t){let t=a.tags.map(e=>r.get(e)||e),{error:s}=await c.O.from("notes").update({tags:t}).eq("id",a.id).eq("user_id",e.id);s&&console.error("Error migrating note tags:",s)}}},fetchNotes=async()=>{let{data:t,error:a}=await c.O.from("notes").select("*").eq("user_id",e.id).order("updated_at",{ascending:!1});!a&&t&&L(t)},fetchFolders=async()=>{let{data:t,error:a}=await c.O.from("folders").select("*").eq("user_id",e.id).order("created_at",{ascending:!0});!a&&t&&$(t)},fetchTags=async()=>{let{data:t,error:a}=await c.O.from("tags").select("*").eq("user_id",e.id).order("created_at",{ascending:!0});!a&&t&&M(t)};migrateTagData().then(()=>{fetchNotes(),fetchFolders(),fetchTags()}),r(!0),document.documentElement.setAttribute("data-theme","dark")},[e]);let handleNewNote=async()=>{if(!e)return;let t={user_id:e.id,title:"",content:"",folder:"all"===h?"personal":h,tags:[],is_pinned:!1,is_private:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:a,error:s}=await c.O.from("notes").insert([t]).select();!s&&a&&a[0]&&(L(e=>[a[0],...e]),j(a[0].id),y(a[0]),v(!0),setTimeout(()=>scrollToNote(a[0].id),100))},handleSaveNote=async()=>{if(!b||!e)return;let t={...b,updated_at:new Date().toISOString()},{data:a,error:s}=await c.O.from("notes").update(t).eq("id",t.id).eq("user_id",e.id).select();!s&&a&&a[0]&&(L(e=>e.map(e=>e.id===t.id?a[0]:e)),v(!1))},handleDeleteNote=async t=>{if(!e)return;let{error:a}=await c.O.from("notes").delete().eq("id",t).eq("user_id",e.id);a||(L(e=>e.filter(e=>e.id!==t)),g===t&&(j(""),y(null)))},handleTogglePin=async t=>{if(!e)return;let a=F.find(e=>e.id===t);if(!a)return;let{data:s,error:i}=await c.O.from("notes").update({is_pinned:!a.is_pinned,updated_at:new Date().toISOString()}).eq("id",t).eq("user_id",e.id).select();!i&&s&&s[0]&&L(e=>e.map(e=>e.id===t?s[0]:e))},handleNoteSelect=e=>{let t=F.find(t=>t.id===e);t&&(j(e),y(t),v(!1))},handleCreateFolder=async()=>{if(!E.trim()){I("Nome da pasta n\xe3o pode ser vazio");return}if(!e)return;let t=R.some(e=>e.name.toLowerCase()===E.trim().toLowerCase());if(t){I("Uma pasta com este nome j\xe1 existe");return}let{data:a,error:s}=await c.O.from("folders").insert([{user_id:e.id,name:E.trim()}]).select();!s&&a&&a[0]?($(e=>[...e,a[0]]),O(""),I(""),q(!1)):(console.error("Erro ao criar pasta:",s),I(s?.message||"Erro ao criar pasta"))},handleCreateTag=async()=>{if(!P.trim()){I("Nome da etiqueta n\xe3o pode ser vazio");return}if(!e)return;let t=U.some(e=>e.name.toLowerCase()===P.trim().toLowerCase());if(t){I("Uma etiqueta com este nome j\xe1 existe");return}let{data:a,error:s}=await c.O.from("tags").insert([{user_id:e.id,name:P.trim()}]).select();!s&&a&&a[0]?(M(e=>[...e,a[0]]),T(""),I(""),D(!1)):(console.error("Erro ao criar etiqueta:",s),I(s?.message||"Erro ao criar etiqueta"))},handleDeleteFolder=async t=>{if(e)try{let{error:a}=await c.O.from("notes").update({folder:"personal"}).eq("folder",t).eq("user_id",e.id);if(a){console.error("Erro ao mover notas:",a);return}let{error:s}=await c.O.from("folders").delete().eq("id",t).eq("user_id",e.id);if(s){console.error("Erro ao deletar pasta:",s);return}L(e=>e.map(e=>e.folder===t?{...e,folder:"personal"}:e)),$(e=>e.filter(e=>e.id!==t)),h===t&&p("all")}catch(e){console.error("Erro ao deletar pasta:",e)}},handleTagSelect=e=>{let t=U.find(t=>t.id===e);t&&N(e=>e.includes(t.name)?e.filter(e=>e!==t.name):[...e,t.name])},handleDeleteTag=async t=>{if(e)try{let a=U.find(e=>e.id===t);if(!a)return;let{data:s,error:i}=await c.O.from("notes").select("id, tags").eq("user_id",e.id).contains("tags",[a.name]);if(i){console.error("Erro ao buscar notas:",i);return}for(let t of s||[]){let s=t.tags.filter(e=>e!==a.name),{error:i}=await c.O.from("notes").update({tags:s}).eq("id",t.id).eq("user_id",e.id);i&&console.error("Erro ao atualizar nota:",i)}let{error:r}=await c.O.from("tags").delete().eq("id",t).eq("user_id",e.id);if(r){console.error("Erro ao deletar etiqueta:",r);return}L(e=>e.map(e=>({...e,tags:e.tags.filter(e=>e!==a.name)}))),M(e=>e.filter(e=>e.id!==t)),N(e=>e.filter(e=>e!==a.name))}catch(e){console.error("Erro ao deletar etiqueta:",e)}},H=F.filter(e=>!!(("all"===h||e.folder===h)&&(!(x.length>0)||x.every(t=>e.tags.includes(t)))&&(!m||e.title.toLowerCase().includes(m.toLowerCase())||e.content.toLowerCase().includes(m.toLowerCase())))),K=H.filter(e=>e.is_pinned),z=H.filter(e=>!e.is_pinned),formatDate=e=>{let t=new Date(e),a=new Date,s=Math.abs(a.getTime()-t.getTime()),i=Math.ceil(s/864e5);return 1===i?"Hoje":2===i?"Ontem":i<=7?`${i-1} dias atr\xe1s`:t.toLocaleDateString()},handleSignOut=async()=>{await t()},scrollToNote=e=>{if(_.current){let t=_.current.querySelector(`[data-note-id="${e}"]`);t&&t.scrollIntoView({behavior:"smooth",block:"center"})}},onDragEnd=async t=>{let{source:a,destination:s,draggableId:i}=t;if(s&&(s.droppableId!==a.droppableId||s.index!==a.index)&&(s.droppableId,s.droppableId.startsWith("folder-"))){let t=s.droppableId.replace("folder-",""),{data:a,error:r}=await c.O.from("notes").update({folder:t}).eq("id",i).eq("user_id",e?.id).select();if(r){console.error("Error updating note folder:",r);return}a&&L(e=>e.map(e=>e.id===i?{...e,folder:t}:e))}},G=R.map(e=>({...e,count:F.filter(t=>t.folder===e.id||t.folder===e.name).length})),J=U.map(e=>({...e,count:F.filter(t=>t.tags.includes(e.name)).length}));return s.jsx(l.Z5,{onDragEnd:onDragEnd,children:(0,s.jsxs)("div",{className:"app-container",children:[(0,s.jsxs)("div",{className:"sidebar",children:[s.jsx("div",{className:"sidebar-header",children:(0,s.jsxs)("button",{className:"new-note-btn",onClick:handleNewNote,children:[s.jsx("i",{className:"ri-add-line minimalist-icon"}),"Nova Nota"]})}),(0,s.jsxs)("div",{className:"section-header",children:[s.jsx("div",{className:"section-title",children:"Pastas"}),s.jsx("button",{className:"add-btn",onClick:()=>q(!0),"aria-label":"Add new folder",children:s.jsx("i",{className:"ri-add-line minimalist-icon"})})]}),(0,s.jsxs)("div",{className:"sidebar-item",onClick:()=>p("all"),children:[(0,s.jsxs)("div",{className:"sidebar-item-left",children:[s.jsx("i",{className:"ri-file-text-line minimalist-icon"}),s.jsx("span",{children:"Todas as Notas"})]}),s.jsx("div",{className:"badge",children:F.length})]}),G.map(e=>(0,s.jsxs)("div",{className:`sidebar-item ${h===e.id?"selected":""}`,onClick:()=>p(e.id),children:[(0,s.jsxs)("div",{className:"sidebar-item-left",children:[s.jsx("i",{className:"ri-folder-line minimalist-icon"}),s.jsx("span",{children:e.name})]}),(0,s.jsxs)("div",{className:"sidebar-item-right",children:[s.jsx("div",{className:"badge",children:e.count}),s.jsx("button",{className:"delete-btn",onClick:t=>{t.stopPropagation(),handleDeleteFolder(e.id)},"aria-label":`Delete folder ${e.name}`,children:s.jsx("i",{className:"ri-delete-bin-line minimalist-icon"})})]})]},e.id)),(0,s.jsxs)("div",{className:"section-header",children:[s.jsx("div",{className:"section-title",children:"Etiquetas"}),s.jsx("button",{className:"add-btn",onClick:()=>D(!0),"aria-label":"Add new tag",children:s.jsx("i",{className:"ri-add-line minimalist-icon"})})]}),J.map(e=>(0,s.jsxs)("div",{className:`sidebar-item ${x.includes(e.name)?"selected":""}`,onClick:()=>handleTagSelect(e.id),children:[(0,s.jsxs)("div",{className:"sidebar-item-left",children:[s.jsx("i",{className:"ri-price-tag-3-line minimalist-icon"}),(0,s.jsxs)("span",{children:["#",e.name]})]}),(0,s.jsxs)("div",{className:"sidebar-item-right",children:[s.jsx("div",{className:"badge",children:e.count}),s.jsx("button",{className:"delete-btn",onClick:t=>{t.stopPropagation(),handleDeleteTag(e.id)},"aria-label":`Delete tag ${e.name}`,children:s.jsx("i",{className:"ri-delete-bin-line minimalist-icon"})})]})]},e.id))]}),(0,s.jsxs)("div",{className:"main-content-area",children:[(0,s.jsxs)("div",{className:"top-bar",children:[s.jsx("div",{className:"app-title",children:"Scribe"}),(0,s.jsxs)("div",{className:"top-bar-actions",children:[s.jsx("div",{className:"user-info",children:s.jsx("span",{className:"user-email",children:e?.email})}),s.jsx("button",{className:"theme-toggle",onClick:()=>{let e=!a;r(e),e?(document.documentElement.setAttribute("data-theme","dark"),localStorage.setItem("notesapp_theme","dark")):(document.documentElement.setAttribute("data-theme","light"),localStorage.setItem("notesapp_theme","light"))},"aria-label":"Toggle theme",children:s.jsx("i",{className:a?"ri-sun-line":"ri-moon-line"})}),s.jsx("button",{className:"signout-btn",onClick:handleSignOut,"aria-label":"Sign out",children:s.jsx("i",{className:"ri-logout-box-line"})})]})]}),(0,s.jsxs)("div",{className:"main-content-columns",style:{display:"flex",flexDirection:"row",height:"100%"},children:[(0,s.jsxs)("div",{className:"middle-column",children:[s.jsx("div",{className:"search-container",children:s.jsx("input",{type:"text",className:"search-input",placeholder:"Pesquisar notas...",value:m,onChange:e=>u(e.target.value)})}),(0,s.jsxs)("div",{className:"notes-container",ref:_,onScroll:()=>{if(_.current){let{scrollTop:e}=_.current;S(e>200)}},children:[K.length>0&&(0,s.jsxs)("div",{className:"notes-section",children:[s.jsx("div",{className:"notes-section-title",children:"Notas Fixadas"}),K.map(e=>(0,s.jsxs)("div",{"data-note-id":e.id,className:`note-card ${g===e.id?"selected":""}`,onClick:()=>handleNoteSelect(e.id),children:[(0,s.jsxs)("div",{className:"note-header",children:[s.jsx("div",{className:"note-title",children:e.title||"Sem t\xedtulo"}),s.jsx("div",{className:"note-date",children:formatDate(e.updated_at)})]}),s.jsx("div",{className:"note-preview",children:e.content}),e.tags.length>0&&s.jsx("div",{className:"note-tags",children:e.tags.map(e=>(0,s.jsxs)("span",{className:"tag-pill",children:["#",e]},e))}),(0,s.jsxs)("div",{className:"note-actions",children:[s.jsx("button",{className:"action-btn",onClick:t=>{t.stopPropagation(),handleTogglePin(e.id)},"aria-label":e.is_pinned?"Unpin note":"Pin note",children:s.jsx("i",{className:"ri-pushpin-fill minimalist-icon"})}),s.jsx("button",{className:"action-btn",onClick:t=>{t.stopPropagation(),handleDeleteNote(e.id)},"aria-label":"Delete note",children:s.jsx("i",{className:"ri-delete-bin-line minimalist-icon"})})]})]},e.id))]}),(0,s.jsxs)("div",{className:"notes-section",children:[s.jsx("div",{className:"notes-section-title",children:"Todas as Notas"}),z.map(e=>(0,s.jsxs)("div",{"data-note-id":e.id,className:`note-card ${g===e.id?"selected":""}`,onClick:()=>handleNoteSelect(e.id),children:[(0,s.jsxs)("div",{className:"note-header",children:[s.jsx("div",{className:"note-title",children:e.title||"Sem t\xedtulo"}),s.jsx("div",{className:"note-date",children:formatDate(e.updated_at)})]}),s.jsx("div",{className:"note-preview",children:e.content}),e.tags.length>0&&s.jsx("div",{className:"note-tags",children:e.tags.map(e=>(0,s.jsxs)("span",{className:"tag-pill",children:["#",e]},e))}),(0,s.jsxs)("div",{className:"note-actions",children:[s.jsx("button",{className:"action-btn",onClick:t=>{t.stopPropagation(),handleTogglePin(e.id)},"aria-label":e.is_pinned?"Unpin note":"Pin note",children:s.jsx("i",{className:"ri-pushpin-fill minimalist-icon"})}),s.jsx("button",{className:"action-btn",onClick:t=>{t.stopPropagation(),handleDeleteNote(e.id)},"aria-label":"Delete note",children:s.jsx("i",{className:"ri-delete-bin-line minimalist-icon"})})]})]},e.id))]}),C&&s.jsx("button",{className:"scroll-to-top-btn",onClick:()=>{_.current&&_.current.scrollTo({top:0,behavior:"smooth"})},"aria-label":"Scroll to top",children:s.jsx("i",{className:"ri-arrow-up-line"})})]})]}),s.jsx("div",{className:"right-pane",children:b?(0,s.jsxs)("div",{className:"note-editor",children:[(0,s.jsxs)("div",{className:"editor-header",children:[s.jsx("div",{className:"editor-title",children:"Editor de Notas"}),s.jsx("div",{className:"editor-actions",children:f?(0,s.jsxs)(s.Fragment,{children:[s.jsx("button",{className:"editor-btn",onClick:()=>{v(!1);let e=F.find(e=>e.id===b?.id);e&&y(e)},children:"Cancelar"}),s.jsx("button",{className:"editor-btn primary",onClick:handleSaveNote,children:"Salvar"})]}):s.jsx("button",{className:"editor-btn primary",onClick:()=>v(!0),children:"Editar"})})]}),s.jsx("div",{className:"editor-content",style:{maxHeight:"60vh",overflowY:"auto"},children:f?(0,s.jsxs)(s.Fragment,{children:[s.jsx("input",{type:"text",className:"editor-input",value:b.title,onChange:e=>y({...b,title:e.target.value}),placeholder:"T\xedtulo da nota..."}),s.jsx(n(),{value:b.content,onChange:e=>y({...b,content:e}),placeholder:"Comece a escrever sua nota...",style:{height:"40vh",display:"flex",flexDirection:"column"},modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"],["clean"]]}}),(0,s.jsxs)("div",{className:"editor-tags",children:[s.jsx("div",{className:"editor-tags-label",children:"Etiquetas:"}),(0,s.jsxs)("div",{className:"editor-tags-list",children:[0===U.length&&s.jsx("span",{className:"editor-tags-empty",children:"Nenhuma etiqueta criada ainda."}),U.map(e=>s.jsx("button",{type:"button",className:`tag-pill editor-tag-btn${b.tags.includes(e.name)?" selected":""}`,onClick:()=>{b.tags.includes(e.name)?y({...b,tags:b.tags.filter(t=>t!==e.name)}):y({...b,tags:[...b.tags,e.name]})},children:e.name},e.id))]})]})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("h1",{className:"editor-input",children:b.title||"Sem t\xedtulo"}),s.jsx("div",{className:"editor-textarea",style:{whiteSpace:"pre-wrap",maxHeight:"40vh",overflowY:"auto"},dangerouslySetInnerHTML:{__html:b.content||"Sem conte\xfado"}}),b.tags.length>0&&s.jsx("div",{className:"note-tags",style:{marginTop:"16px"},children:b.tags.map(e=>(0,s.jsxs)("span",{className:"tag-pill",children:["#",e]},e))})]})})]}):(0,s.jsxs)("div",{className:"empty-state",children:[s.jsx("div",{className:"empty-icon",children:"\uD83D\uDCDD"}),s.jsx("div",{className:"empty-title",children:"Editor de Notas"}),s.jsx("div",{className:"empty-subtitle"})]})})]})]}),k&&s.jsx("div",{className:"modal-overlay",onClick:()=>q(!1),children:(0,s.jsxs)("div",{className:"modal",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"modal-header",children:[s.jsx("h3",{children:"Criar Nova Pasta"}),s.jsx("button",{className:"modal-close",onClick:()=>q(!1),"aria-label":"Close modal",children:s.jsx("i",{className:"ri-close-line"})})]}),(0,s.jsxs)("div",{className:"modal-content",children:[s.jsx("input",{type:"text",className:"modal-input",placeholder:"Digite o nome da pasta...",value:E,onChange:e=>O(e.target.value),onKeyPress:e=>"Enter"===e.key&&handleCreateFolder(),autoFocus:!0}),A&&s.jsx("div",{className:"modal-error",children:A})]}),(0,s.jsxs)("div",{className:"modal-actions",children:[s.jsx("button",{className:"modal-btn",onClick:()=>q(!1),children:"Cancelar"}),s.jsx("button",{className:"modal-btn primary",onClick:handleCreateFolder,children:"Criar"})]})]})}),w&&s.jsx("div",{className:"modal-overlay",onClick:()=>D(!1),children:(0,s.jsxs)("div",{className:"modal",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"modal-header",children:[s.jsx("h3",{children:"Criar Nova Etiqueta"}),s.jsx("button",{className:"modal-close",onClick:()=>D(!1),"aria-label":"Close modal",children:s.jsx("i",{className:"ri-close-line"})})]}),(0,s.jsxs)("div",{className:"modal-content",children:[s.jsx("input",{type:"text",className:"modal-input",placeholder:"Digite o nome da etiqueta...",value:P,onChange:e=>T(e.target.value),onKeyPress:e=>"Enter"===e.key&&handleCreateTag(),autoFocus:!0}),A&&s.jsx("div",{className:"modal-error",children:A})]}),(0,s.jsxs)("div",{className:"modal-actions",children:[s.jsx("button",{className:"modal-btn",onClick:()=>D(!1),children:"Cancelar"}),s.jsx("button",{className:"modal-btn primary",onClick:handleCreateTag,children:"Criar"})]})]})}),s.jsx(AI_AIAssistant,{onAddToNote:e=>{b?(y({...b,content:b.content+"\n\n"+e}),v(!0)):(handleNewNote(),setTimeout(()=>{let t=F.find(e=>e.id===g);t&&y({...t,content:e,title:"AI Response"})},200))}})]})})}function Home(){return s.jsx(ProtectedRoute,{children:s.jsx(NotesApp,{})})}},3982:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>r,default:()=>o});var s=a(5153);let i=(0,s.createProxy)(String.raw`C:\Users\felip\OneDrive\Desktop\NOtas\Note-taking\app\page.tsx`),{__esModule:r,$$typeof:n}=i,l=i.default,o=l}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[162,373,919],()=>__webpack_exec__(2134));module.exports=a})();