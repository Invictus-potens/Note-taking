"use strict";(()=>{var e={};e.id=388,e.ids=[388],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5589:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>m,originalPathname:()=>P,requestAsyncStorage:()=>c,routeModule:()=>p,serverHooks:()=>d,staticGenerationAsyncStorage:()=>l,staticGenerationBailout:()=>g});var s={};r.r(s),r.d(s,{POST:()=>POST});var a=r(884),n=r(6132),o=r(5798),i=r(6995);let u=new i.ZP({apiKey:process.env.OPENAI_API_KEY});async function POST(e){try{let{question:t}=await e.json();if(!t||"string"!=typeof t)return o.Z.json({error:"Question is required and must be a string"},{status:400});if(!process.env.OPENAI_API_KEY)return o.Z.json({error:"OpenAI API key is not configured"},{status:500});let r=await u.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are a helpful AI assistant integrated into a note-taking app called Scribe. Provide clear, concise, and helpful responses. If the user asks about note-taking, organization, or productivity, provide specific and actionable advice."},{role:"user",content:t}],max_tokens:1e3,temperature:.7}),s=r.choices[0]?.message?.content;if(!s)return o.Z.json({error:"No response received from OpenAI"},{status:500});return o.Z.json({response:s,timestamp:new Date().toISOString()})}catch(e){if(console.error("AI Assistant API Error:",e),e instanceof Error){if(e.message.includes("API key"))return o.Z.json({error:"Invalid OpenAI API key"},{status:401});if(e.message.includes("rate limit"))return o.Z.json({error:"Rate limit exceeded. Please try again later."},{status:429})}return o.Z.json({error:"An error occurred while processing your request"},{status:500})}}let p=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/ai-assistant/route",pathname:"/api/ai-assistant",filename:"route",bundlePath:"app/api/ai-assistant/route"},resolvedPagePath:"C:\\Users\\felip\\OneDrive\\Desktop\\NOtas\\Note-taking\\app\\api\\ai-assistant\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:d,headerHooks:m,staticGenerationBailout:g}=p,P="/api/ai-assistant/route"}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[892],()=>__webpack_exec__(5589));module.exports=r})();