(()=>{var e={};e.id=329,e.ids=[329],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},7641:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var s=r(7096),a=r(6132),n=r(7284),i=r.n(n),l=r(2564),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["calendar",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,153)),"C:\\Users\\felip\\OneDrive\\Desktop\\Note-taking\\app\\calendar\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2498)),"C:\\Users\\felip\\OneDrive\\Desktop\\Note-taking\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,8196)),"C:\\Users\\felip\\OneDrive\\Desktop\\Note-taking\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\felip\\OneDrive\\Desktop\\Note-taking\\app\\calendar\\page.tsx"],u="/calendar/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/calendar/page",pathname:"/calendar",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},251:(e,t,r)=>{Promise.resolve().then(r.bind(r,8956))},8956:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>CalendarRoute});var s=r(784),a=r(9885),n=r(2182),i=r(6073),l=r(1099),o=r(3894),d=r(7162),c=r(1089),u=r(8877),p=r(9707),x=r(7551),m=r(6568),g=r(4563);function CalendarPage(){let[e,t]=(0,a.useState)(new Date),[r,h]=(0,a.useState)([]),[b,y]=(0,a.useState)(null),[v,f]=(0,a.useState)(!1),[j,_]=(0,a.useState)({title:"",time:"",location:""}),{user:N}=(0,g.useAuth)(),fetchEvents=async()=>{let t=(0,n.ZP)((0,i.Z)(e),"yyyy-MM-dd"),r=(0,n.ZP)((0,l.Z)(e),"yyyy-MM-dd"),{data:s,error:a}=await m.O.from("calendar_events").select("*").gte("date",t).lte("date",r).eq("user_id",N?.id);a?console.error(a):h(s||[])};(0,a.useEffect)(()=>{N&&fetchEvents()},[e,N]);let createEvent=async()=>{if(!b||!j.title||!j.time||!N?.id)return;let{error:e}=await m.O.from("calendar_events").insert({title:j.title,date:(0,n.ZP)(b,"yyyy-MM-dd"),time:j.time,location:j.location,user_id:N.id});e?console.error("Create event error:",e):(f(!1),_({title:"",time:"",location:""}),fetchEvents())},C=(0,o.Z)((0,i.Z)(e),{weekStartsOn:0}),q=(0,d.Z)((0,l.Z)(e),{weekStartsOn:0}),P=[],k=C;for(;k<=q;)P.push(k),k=(0,c.Z)(k,1);return(0,s.jsxs)("div",{className:"min-h-screen bg-[#1E2230] text-white p-6",children:[(0,s.jsxs)("header",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Calend\xe1rio"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>t((0,c.Z)(e,-30)),className:"px-3 py-1 bg-[#2E3347] rounded",children:"Anterior"}),s.jsx("button",{onClick:()=>t((0,c.Z)(e,30)),className:"px-3 py-1 bg-[#2E3347] rounded",children:"Pr\xf3ximo"})]})]}),s.jsx("div",{className:"grid grid-cols-7 gap-2 text-center mb-2",children:["Dom","Seg","Ter","Qua","Qui","Sex","S\xe1b"].map(e=>s.jsx("div",{className:"text-gray-400",children:e},e))}),s.jsx("div",{className:"grid grid-cols-7 gap-2",children:P.map((t,a)=>{let i=r.filter(e=>e.date===(0,n.ZP)(t,"yyyy-MM-dd"));return(0,s.jsxs)("div",{onClick:()=>{y(t),f(!0)},className:`p-2 rounded cursor-pointer min-h-[80px] ${(0,u.Z)(t,e)?"bg-[#202434]":"bg-[#1A1D2D]"} ${(0,p.Z)(t)?"border border-[#4D7CFE]":""}`,children:[s.jsx("div",{className:"text-sm text-gray-300",children:(0,n.ZP)(t,"d")}),s.jsx("div",{className:"space-y-1 mt-1",children:i.map(e=>s.jsx("div",{className:"text-xs truncate bg-[#4D7CFE] rounded px-1",children:e.title},e.id))})]},a)})}),s.jsx(x.Vq,{open:v,onClose:()=>f(!1),className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:(0,s.jsxs)(x.Vq.Panel,{className:"bg-[#202434] p-6 rounded w-96",children:[s.jsx(x.Vq.Title,{className:"text-lg font-semibold mb-4",children:"Novo Evento"}),s.jsx("input",{type:"text",placeholder:"T\xedtulo",value:j.title,onChange:e=>_({...j,title:e.target.value}),className:"w-full p-2 mb-2 rounded bg-[#1E2230] border border-gray-600"}),s.jsx("input",{type:"time",value:j.time,onChange:e=>_({...j,time:e.target.value}),className:"w-full p-2 mb-2 rounded bg-[#1E2230] border border-gray-600"}),s.jsx("input",{type:"text",placeholder:"Local",value:j.location,onChange:e=>_({...j,location:e.target.value}),className:"w-full p-2 mb-4 rounded bg-[#1E2230] border border-gray-600"}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>f(!1),className:"px-3 py-1 bg-gray-600 rounded",children:"Cancelar"}),s.jsx("button",{onClick:createEvent,className:"px-3 py-1 bg-[#4D7CFE] rounded",children:"Salvar"})]})]})})]})}function CalendarRoute(){return(0,s.jsxs)("div",{style:{padding:32},children:[s.jsx("h1",{children:"Calendar"}),s.jsx(CalendarPage,{})]})}},153:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});var s=r(5153);let a=(0,s.createProxy)(String.raw`C:\Users\felip\OneDrive\Desktop\Note-taking\app\calendar\page.tsx`),{__esModule:n,$$typeof:i}=a,l=a.default,o=l}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[162,179,259],()=>__webpack_exec__(7641));module.exports=r})();